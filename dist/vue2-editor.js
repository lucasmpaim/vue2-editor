!function(e){function t(t){for(var n,r,a=t[0],u=t[1],s=t[2],d=0,h=[];d<a.length;d++)r=a[d],o[r]&&h.push(o[r][0]),o[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(c&&c(t);h.length;)h.shift()();return l.push.apply(l,s||[]),i()}function i(){for(var e,t=0;t<l.length;t++){for(var i=l[t],n=!0,a=1;a<i.length;a++){var u=i[a];0!==o[u]&&(n=!1)}n&&(l.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},o={1:0};var l=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var c=u;l.push([18,0]),i()}({15:function(e,t,i){},18:function(e,t,i){e.exports=i(4)},4:function(e,t,i){"use strict";i.r(t);var n=i(3),o=[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","image","video"],["clean"]];function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,o=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){o=!0,l=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw l}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a,u=function(){function e(t,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=i,this.matches=[{name:"header",pattern:/^(#){1,6}\s/g,action:function(e,t){switch(e.trim()){case"#":n.quill.formatLine(t.index,0,"header",1);break;case"##":n.quill.formatLine(t.index,0,"header",2);break;case"###":n.quill.formatLine(t.index,0,"header",3);break;case"####":n.quill.formatLine(t.index,0,"header",4);break;case"#####":n.quill.formatLine(t.index,0,"header",5);break;case"######":n.quill.formatLine(t.index,0,"header",6)}setTimeout(function(){n.quill.deleteText(t.index-e.length,e.length)},0)}},{name:"blockquote",pattern:/^(>)\s/g,action:function(e,t){setTimeout(function(){n.quill.formatLine(t.index,1,"blockquote",!0),n.quill.deleteText(t.index-2,2)},0)}},{name:"code-block",pattern:/^`{3}(?:\s|\n)/g,action:function(e,t){setTimeout(function(){n.quill.formatLine(t.index,1,"code-block",!0),n.quill.deleteText(t.index-4,4)},0)}},{name:"bolditalic",pattern:/(?:\*|_){3}(.+?)(?:\*|_){3}/g,action:function(e,t,i,o){var l=i.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){n.quill.deleteText(u,r.length),n.quill.insertText(u,a,{bold:!0}),n.quill.format("bold",!1)},0)}},{name:"bold",pattern:/(?:\*|_){2}(.+?)(?:\*|_){2}/g,action:function(e,t,i,o){var l=i.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){n.quill.deleteText(u,r.length),n.quill.insertText(u,a,{bold:!0}),n.quill.format("bold",!1)},0)}},{name:"italic",pattern:/(?:\*|_){1}(.+?)(?:\*|_){1}/g,action:function(e,t,i,o){var l=i.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){n.quill.deleteText(u,r.length),n.quill.insertText(u,a,{italic:!0}),n.quill.format("italic",!1)},0)}},{name:"strikethrough",pattern:/(?:~~)(.+?)(?:~~)/g,action:function(e,t,i,o){var l=i.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){n.quill.deleteText(u,r.length),n.quill.insertText(u,a,{strike:!0}),n.quill.format("strike",!1)},0)}},{name:"code",pattern:/(?:`)(.+?)(?:`)/g,action:function(e,t,i,o){var l=i.exec(e),r=l[0],a=l[1],u=o+l.index;e.match(/^([*_ \n]+)$/g)||setTimeout(function(){n.quill.deleteText(u,r.length),n.quill.insertText(u,a,{code:!0}),n.quill.format("code",!1),n.quill.insertText(n.quill.getSelection()," ")},0)}},{name:"asterisk-ul",pattern:/^(\*|\+)\s$/g,action:function(e,t,i){setTimeout(function(){n.quill.formatLine(t.index,1,"list","unordered"),n.quill.deleteText(t.index-2,2)},0)}},{name:"image",pattern:/(?:!\[(.+?)\])(?:\((.+?)\))/g,action:function(e,t,i){var o=e.search(i),l=e.match(i)[0],r=e.match(/(?:\((.*?)\))/g)[0],a=t.index-l.length-1;-1!==o&&setTimeout(function(){n.quill.deleteText(a,l.length),n.quill.insertEmbed(a,"image",r.slice(1,r.length-1))},0)}},{name:"link",pattern:/(?:\[(.+?)\])(?:\((.+?)\))/g,action:function(e,t,i){var o=e.search(i),l=e.match(i)[0],r=e.match(/(?:\[(.*?)\])/g)[0],a=e.match(/(?:\((.*?)\))/g)[0],u=t.index-l.length-1;-1!==o&&setTimeout(function(){n.quill.deleteText(u,l.length),n.quill.insertText(u,r.slice(1,r.length-1),"link",a.slice(1,a.length-1))},0)}}],this.quill.on("text-change",function(e,t,i){for(var o=0;o<e.ops.length;o++)e.ops[o].hasOwnProperty("insert")&&(" "===e.ops[o].insert?n.onSpace():"\n"===e.ops[o].insert&&n.onEnter())})}var t,i,n;return t=e,(i=[{key:"onSpace",value:function(){var e=this.quill.getSelection(),t=l(this.quill.getLine(e.index),2),i=t[0],n=t[1],o=i.domNode.textContent,r=e.index-n;if(void 0!==o&&o){var a=!0,u=!1,s=void 0;try{for(var c,d=this.matches[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value;if(o.match(h.pattern))return console.log("matched",h.name,o),void h.action(o,e,h.pattern,r)}}catch(e){u=!0,s=e}finally{try{a||null==d.return||d.return()}finally{if(u)throw s}}}}},{key:"onEnter",value:function(){var e=this.quill.getSelection();if(e){var t=l(this.quill.getLine(e.index),2),i=t[0],n=t[1],o=i.domNode.textContent+" ",r=e.index-n;if(e.length=e.index++,void 0!==o&&o){var a=!0,u=!1,s=void 0;try{for(var c,d=this.matches[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var h=c.value;if(o.match(h.pattern))return console.log("matched",h.name,o),void h.action(o,e,h.pattern,r)}}catch(e){u=!0,s=e}finally{try{a||null==d.return||d.return()}finally{if(u)throw s}}}}}}])&&r(t.prototype,i),n&&r(t,n),e}(),s=i(2),c=i.n(s);n.a.prototype.$isServer||(a=i(9));var d={name:"vue-editor",props:{value:String,id:{type:String,default:"quill-container"},placeholder:String,disabled:Boolean,customModules:Array,editorToolbar:Array,editorOptions:{type:Object,default:function(){return{}}},useCustomImageHandler:{type:Boolean,default:!1}},computed:{filteredInitialContent:function(){return(this.value||"").replace(/(<div)/gim,"<p").replace(/<\/div>/gim,"</p>")},imageResizeActive:function(){return void 0!==this.quill.options.modules.imageResize}},data:function(){return{quill:null,editor:null,editorConfig:{},modules:{toolbar:this.editorToolbar?this.editorToolbar:o,markdownShortcuts:{}}}},mounted:function(){window.Quill=window.Quill||a,this.initializeVue2Editor(),this.handleUpdatedEditor()},watch:{value:function(e){e==this.editor.innerHTML||this.quill.hasFocus()||(this.editor.innerHTML=e)},disabled:function(e){this.quill.enable(!e)}},methods:{initializeVue2Editor:function(){this.prepareModules(),this.setQuillElement(),this.setEditorElement(),this.handleDynamicStyles(),this.checkForInitialContent(),this.checkForCustomImageHandler()},setQuillElement:function(){var e={debug:!1,modules:this.modules,placeholder:this.placeholder?this.placeholder:"",theme:"snow",readOnly:!!this.disabled&&this.disabled};this.prepareEditorConfig(e),this.quill=new Quill(this.$refs.quillContainer,e)},setEditorElement:function(){this.editor=document.querySelector("#".concat(this.id," .ql-editor"))},handleDynamicStyles:function(){this.imageResizeActive&&this.editor.classList.add("imageResizeActive")},prepareModules:function(){this.registerBuiltInModules(),this.registerCustomModules()},registerBuiltInModules:function(){Quill.register("modules/markdownShortcuts",u)},registerCustomModules:function(){void 0!==this.customModules&&this.customModules.forEach(function(e){Quill.register("modules/"+e.alias,e.module)})},prepareEditorConfig:function(e){Object.keys(this.editorOptions).length>0&&this.editorOptions.constructor===Object&&(this.editorOptions.modules&&void 0!==this.editorOptions.modules.toolbar&&delete e.modules.toolbar,c()(e,this.editorOptions))},checkForInitialContent:function(){this.editor.innerHTML=this.filteredInitialContent},checkForCustomImageHandler:function(){!0===this.useCustomImageHandler&&this.setupCustomImageHandler()},setupCustomImageHandler:function(){this.quill.getModule("toolbar").addHandler("image",this.customImageHandler)},handleUpdatedEditor:function(){var e=this;this.quill.on("text-change",function(){e.$emit("input",e.editor.innerHTML)})},customImageHandler:function(e,t){this.$refs.fileInput.click()},emitImageInfo:function(e){var t=e.target.files[0],i=this.quill,n=i.getSelection().index;this.$emit("imageAdded",t,i,n,function(){document.getElementById("file-upload").value=""})}}},h=i(1);var f=function(e){i(17),i(15)},m=Object(h.a)(d,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"quillWrapper"},[i("div",{ref:"quillContainer",attrs:{id:e.id}}),e._v(" "),e.useCustomImageHandler?i("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{id:"file-upload",type:"file"},on:{change:function(t){e.emitImageInfo(t)}}}):e._e()])},[],!1,f,null,null).exports;i.d(t,"VueEditor",function(){return m})}});
//# sourceMappingURL=vue2-editor.js.map